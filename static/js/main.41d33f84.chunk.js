(this["webpackJsonpedu-ht"]=this["webpackJsonpedu-ht"]||[]).push([[0],{214:function(e,t){},218:function(e,t,n){},219:function(e,t,n){},220:function(e,t){String.prototype.capitalize=function(){return this.toLowerCase().replace(/./,(function(e){return e.toUpperCase()})).replace(/[^']\b\w/g,(function(e){return e.toUpperCase()}))}},221:function(e,t,n){},225:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),c=n(27),r=n.n(c),o=(n(99),n(8)),i=n(11),l=n(10),m=n(80),u=n(81),h=n(91),d=n(82),g=n(9),v=n(93),p=(n(100),n(83)),f=n.n(p),b=n(84),E=n.n(b),N=(n(217),n(231),n(229),n(232),n(230)),k=n(48),w=n.n(k),y=(n(218),n(219),n(220),[{name:"T\xecnh c\u1ea3m, c\u1ea3m x\xfac n\xe0o kh\xf4ng \u0111\u01b0\u1ee3c th\u1ec3 hi\u1ec7n trong b\xe0i th\u01a1 \u201cThu\u1eadt ho\xe0i\u201d?",chooses:["T\u1ef1 h\xe0o v\u1ec1 kh\xed th\u1ebf v\xe0 s\u1ee9c manh c\u1ee7a qu\xe2n \u0111\u1ed9i th\u1eddi tr\u1ea7n.","Th\u1eb9n v\xec ch\u01b0a tr\u1ea3 xong n\u1ee3 c\xf4ng danh.","T\xecnh y\xeau n\u01b0\u1edbc, t\u1ef1 h\xe0o d\xe2n t\u1ed9c.","Ph\xea ph\xe1n tri\u1ec1u \u0111\xecnh phong ki\u1ebfn."],answer:4},{name:"Nh\u1eadn \u0111\u1ecbnh n\xe0o kh\xf4ng \u0111\xfang khi n\xf3i v\u1ec1 t\xe1c gi\u1ea3 c\u1ee7a b\xe0i th\u01a1 \u201cThu\u1eadt ho\xe0i\u201d?",chooses:["Ng\u01b0\u1eddi l\xe0ng Ph\xf9 \u1ee6ng, huy\u1ec7n \u0110\u01b0\u1eddng h\xe0o, nay thu\u1ed9c \xc2n Thi, H\u01b0ng Y\xean.","L\xe0 con r\u1ec3 nu\xf4i c\u1ee7a Tr\u1ea7n Qu\u1ed1c Tu\u1ea5n.","C\xf3 nhi\u1ec1u c\xf4ng lao trong cu\u1ed9c kh\xe1ng chi\u1ebfn ch\u1ed1ng qu\xe2n Nguy\xean.","L\xe0 m\u1ed9t nh\xe0 quan v\u0103n, n\xean \xf4ng th\xedch ng\xe2m th\u01a1 \u0111\u1ecdc s\xe1ch."],answer:4},{name:"T\u1eeb n\xe0o d\u01b0\u1edbi \u0111\xe2y trong b\xe0i th\u01a1 \u201cThu\u1eadt ho\xe0i\u201d kh\xf4ng ph\u1ea3i l\xe0 t\xean con v\u1eadt?",chooses:["S\xf3c.","T\xec.","H\u1ed5.","Ng\u01b0u."],answer:1},{name:"Trong nh\u1eefng nh\u1eadn x\xe9t sau \u0111\xe2y, nh\u1eadn x\xe9t n\xe0o kh\xf4ng \u0111\xfang khi n\xf3i v\u1ec1 c\xe2u th\u01a1 th\u1ee9 hai trong b\xe0i \u201cThu\u1eadt ho\xe0i\u201d?",chooses:["Tam qu\xe2n l\xe0 ba ng\u01b0\u1eddi l\xednh, \u0111\u1ed3ng th\u1eddi c\u0169ng c\xf3 th\u1ec3 hi\u1ec3u l\xe0 ba \u0111\u1ea1o qu\xe2n.","H\xecnh \u1ea3nh ba qu\xe2n n\xf3i v\u1ec1 qu\xe2n \u0111\u1ed9i nh\u01b0ng c\u0169ng \u0111\u1ed3ng th\u1eddi n\xf3i v\u1ec1 s\u1ee9c m\u1ea1nh c\u1ee7a to\xe0n d\xe2n t\u1ed9c.","C\xe2u th\u01a1 g\xe2y \u1ea5n t\u01b0\u1ee3ng m\u1ea1nh b\u1edfi s\u1ef1 k\u1ebft h\u1ee3p c\u1ee7a h\xecnh \u1ea3nh kh\xe1ch quan v\xe0 c\u1ea3m nh\u1eadn ch\u1ee7 quan.","H\xecnh \u1ea3nh th\u01a1 k\u1ebft h\u1ee3p gi\u1eefa hi\u1ec7n th\u1ef1c v\xe0 l\xe3ng m\u1ea1n."],answer:1},{name:"Ph\u1ea1m Ng\u0169 L\xe3o c\u1ea3m th\u1ea5y th\u1eb9n khi nghe ng\u01b0\u1eddi \u0111\u1eddi k\u1ec3 chuy\u1ec7n ai?",chooses:["L\u01b0u B\u1ecb.","T\xe0o Th\xe1o.","Quan C\xf4ng.","Gia C\xe1t L\u01b0\u1ee3ng."],answer:4}]),S=(n(221),n(85)),T=n.n(S),C=n(86),x=n.n(C),O=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(h.a)(this,Object(d.a)(t).call(this,e))).setValue=function(e){console.log("setValue: ",e),n.setState(Object(l.a)({},n.state,{},e))},n.setOpen=function(e){n.startTimer();var t=n.state.opens,a=t.findIndex((function(t){return t.route===e}));a>=0?t[a]={route:e,timeStart:n.getHourMinute(),tab:t&&t.length>0?t[a].tab:0,value:!(t&&t.length>0)||!t[a].value,answers:t&&t.length>0?t[a].answers:[]}:t=[].concat(Object(i.a)(t),[{route:e,timeStart:n.getHourMinute(),tab:0,value:!0,answers:[]}]),n.setState(Object(l.a)({},n.state,{opens:t})),console.log("opens: ",t),n.socket.emit("openQuestion",{opens:t})},n.setRating=function(e){var t=n.state.route,a=n.state.opens,s=a.findIndex((function(e){return e.route===t}));s>=0?a[s]=Object(l.a)({},a[s],{tab:e}):a=[].concat(Object(i.a)(a),[{route:t,timeStart:"",tab:e,value:!1,answers:[]}]),n.setState(Object(l.a)({},n.state,{opens:a})),console.log("opens rating: ",a),n.socket.emit("openQuestion",{opens:a})},n.getTab=function(){var e=n.state.route,t=n.state.opens,a=t.findIndex((function(t){return t.route===e}));return a>=0?t[a].tab:0},n.getOpen=function(){var e=n.state.opens;return(e=e.filter((function(e){return e.route===n.state.route})))&&e.length>0&&e[0].value},n.setAnswers=function(e){var t=n.state.route,a=[],s=n.state.opens;if((s=s.filter((function(e){return e.route===t})))&&s.length>0){if((a=s[0].answers)&&a.length>0){var c=a.findIndex((function(t){return t.userName===e.userName}));a=[].concat(c<0?Object(i.a)(a):Object(i.a)(a.filter((function(t){return t.userName!==e.userName}))),[e])}else a=[e];console.log("findIndex: ",c,e,s)}console.log("students: ",[],a),s=[].concat(Object(i.a)(n.state.opens.filter((function(e){return e.route!==t}))),[{route:t,tab:s&&s.length>0?s[0].tab:0,timeStart:s[0].timeStart,value:s[0].value,answers:a}]),n.setState(Object(l.a)({},n.state,{opens:s}))},n.getDateCurrent=function(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),a=e.getFullYear();return e=n+"/"+t+"/"+a},n.getHourMinute=function(){var e=new Date,t=String(e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0"),a=String(e.getSeconds()).padStart(2,"0"),s=String(e.getMilliseconds()).padStart(2,"0");return e=t+":"+n+":"+a+"."+s,console.log("time hour current: ",e),e},n.sendQuestion=function(e){console.log("send question",e),n.socket.emit("teacherQuestion",Object(l.a)({},e))},n.getAnswers=function(e){switch(e){case 0:return"A";case 1:return"B";case 2:return"C";case 3:return"D"}},n.renderList=function(){for(var e=[],t=0;t<40;t++)e.push({i:t});var a=n.state,c=a.opens,r=a.route;return(c=c.filter((function(e){return e.route==r})))&&c.length>0&&(c=c[0]),c?(console.log("danh sach: ",n.state.opens,n.state.route),s.a.createElement("div",{className:"student messages"},s.a.createElement("table",null,s.a.createElement("tbody",null,c.answers&&c.answers.length>0&&c.answers.map((function(e,t){console.log("item: ",e);var a=w.a.duration(c.timeStart,"HH:mm:ss.SSSS"),r=w.a.duration(e.time,"HH:mm:ss.SSSS").subtract(a),o=r.hours()+":"+r.minutes()+":"+r.seconds()+":"+r.milliseconds();console.log("final time: ",o);e.user;return s.a.createElement("tr",{key:t},s.a.createElement("td",null,s.a.createElement("div",{className:"t-cricle"},t+1)),s.a.createElement("td",null,s.a.createElement("div",{className:"t-cricle-name1"},e.userName)),s.a.createElement("td",null,s.a.createElement("div",{className:"t-cricle-other"},n.getAnswers(e.message))),s.a.createElement("td",null,s.a.createElement("div",{className:"t-cricle-other"},"".concat(r.minutes(),":").concat(r.seconds(),".").concat(r.milliseconds()))))})))))):null},n.renderLogin=function(){var e;return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-9 col-md-7 col-lg-5 mx-auto"},s.a.createElement("div",{className:"card card-signin my-5"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h5",{className:"card-title text-center"},"Sign In"),s.a.createElement("div",{className:"form-signin"},s.a.createElement("div",{className:"form-label-group"},s.a.createElement("input",{type:"text",name:"name",ref:"name",id:"inputEmail",className:"form-control",placeholder:"Email address"}),s.a.createElement("label",{for:"inputEmail"},"H\u1ecd v\xe0 t\xean")),s.a.createElement("div",{className:"form-label-group"},s.a.createElement("input",{type:"password",id:"inputPassword",className:"form-control",placeholder:"Password"}),s.a.createElement("label",{for:"inputPassword"},"M\xe3 x\xe1c nh\u1eadn")),s.a.createElement("div",{className:"custom-control custom-checkbox mb-3"},s.a.createElement("input",(e={type:"text",name:"code",ref:"code"},Object(o.a)(e,"type","checkbox"),Object(o.a)(e,"className","custom-control-input"),Object(o.a)(e,"id","customCheck1"),e)),s.a.createElement("label",{className:"custom-control-label",for:"customCheck1"},"Agree all")),s.a.createElement("div",null,"Ch\xfa \xfd: M\xe3 x\xe1c nh\u1eadn hs t\u1ef1 \u0111\u1eb7t (v\xe0 c\u1ea7n nh\u1edb)"),s.a.createElement("button",Object(o.a)({type:"button",name:"",onClick:n.login.bind(Object(g.a)(n)),className:"btn btn-lg btn-primary btn-block text-uppercase"},"type","submit"),"Sign in")))))))},n.renderStudent=function(){var e=n.state,t=e.route,a=e.opens,c=e.user,r=a&&a[t]&&n.getOpen(),o=null;if(r)if((o=a[t].answers)&&o.length>0){var i=o.findIndex((function(e){return e.userId==n.state.user.id}));i>=0&&(o=n.getAnswers(o[i].message))}else o=null;return s.a.createElement("div",{className:"student-main"},s.a.createElement("div",{className:"content"},s.a.createElement("h3",{className:"text-center text-success"},"C\xe2u h\u1ecfi s\u1ed1 ",t+1),s.a.createElement("p",null,"H\u1ecd t\xean:",s.a.createElement("b",null," ",c.name)),r?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"alert alert-"+(o?"primary":"danger"),role:"alert"},o?"\u0110\xe1p \xe1n \u0111\xe3 ch\u1ecdn: "+o:"B\u1ea1n ch\u01b0a ch\u1ecdn \u0111\xe1p \xe1n!"),s.a.createElement("div",{className:"choices_items"},s.a.createElement("button",{value:"0",type:"button",className:"btn btn-primary ml-2",onClick:function(){return n.sendnewMessage(0)}},"Ch\u1ecdn A")," ",s.a.createElement("span",{className:"ml-3"},y[t].chooses[0])),s.a.createElement("div",{className:"choices_items"},s.a.createElement("button",{value:"1",type:"button",className:"btn btn-primary ml-2",onClick:function(){return n.sendnewMessage(1)}},"Ch\u1ecdn B")," ",s.a.createElement("span",{className:"ml-3"},y[t].chooses[1])),s.a.createElement("div",{className:"choices_items"},s.a.createElement("button",{value:"2",type:"button",className:"btn btn-primary ml-2",onClick:function(){return n.sendnewMessage(2)}},"Ch\u1ecdn C")," ",s.a.createElement("span",{className:"ml-3"},y[t].chooses[2])),s.a.createElement("div",{className:"choices_items"},s.a.createElement("button",{value:"2",type:"button",className:"btn btn-primary ml-2",onClick:function(){return n.sendnewMessage(3)}},"Ch\u1ecdn D")," ",s.a.createElement("span",{className:"ml-3"},y[t].chooses[3])),s.a.createElement("div",{className:"timer"},n.state.time.m," : ",n.state.time.s)):s.a.createElement("div",{className:"bottom_sent clearfix"},s.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Ch\u1edd gi\xe1o vi\xean \u0111\u1eb7t c\xe2u h\u1ecfi!"))))},n.renderTeacher=function(){var e=n.state,t=e.route,a=e.opens,c=a&&a[t]&&n.getOpen();return console.log("this.getTab(): ",n.getTab()),s.a.createElement("div",{className:"chat_window"},s.a.createElement("div",{className:"question_number"},y.map((function(e,a){return s.a.createElement(N.a,{key:a,className:"btn-circle "+(t===a?"btn-info":"btn-outline-warning"),onClick:function(){return n.sendQuestion({route:a})}},a+1)}))),s.a.createElement("div",{className:"questions"},s.a.createElement("div",{className:"message right appeared"},s.a.createElement("div",{className:"avatar"},s.a.createElement("img",{width:80,src:T.a,alt:"fireSpot"})),s.a.createElement("div",{className:"text_wrapper"},s.a.createElement("div",{className:"text"},c?y[t].name:"Ch\xe0o qu\xfd th\u1ea7y c\xf4 v\xe0 c\xe1c b\u1ea1n h\u1ecdc sinh!"))),s.a.createElement("div",{className:"contents"},s.a.createElement("div",{className:"choices_group"},c?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"choices_items"},s.a.createElement("div",{className:"d-cricle"},"A")," ",y[t].chooses[0]),s.a.createElement("div",{className:"choices_items"},s.a.createElement("div",{className:"d-cricle"},"B")," ",y[t].chooses[1]),s.a.createElement("div",{className:"choices_items"},s.a.createElement("div",{className:"d-cricle"},"C")," ",y[t].chooses[2]),s.a.createElement("div",{className:"choices_items"},s.a.createElement("div",{className:"d-cricle"},"D")," ",y[t].chooses[3]),s.a.createElement("div",{className:"timer"},n.state.time.m," : ",n.state.time.s)):s.a.createElement("div",{className:"bottom_sent clearfix"},s.a.createElement("div",{className:"send_message",onClick:function(){return n.setOpen(n.state.route)}},s.a.createElement("div",{className:"icon"}),s.a.createElement("div",{className:"text"},"B\u1eaeT \u0110\u1ea6U")),s.a.createElement("br",null),s.a.createElement("img",{width:180,src:x.a,alt:"fireSpot"}))),s.a.createElement("div",{className:"answers"},s.a.createElement("div",{className:"menu"},s.a.createElement("ul",{className:"user"},s.a.createElement("span",{className:"user-name"},n.state.user.name),s.a.createElement("p",{className:"text-center"},"B\u1ea2NG X\u1ebeP H\u1ea0NG"),s.a.createElement("div",{className:"menu_top"},s.a.createElement("nav",null,s.a.createElement("div",{className:"nav nav-tabs",id:"nav-tab",role:"tablist"},s.a.createElement("a",{className:"nav-item nav-link "+(0===n.getTab()?"active":""),onClick:function(){return n.setRating(0)},id:"nav-home-tab","data-toggle":"tab",href:"#nav-home",role:"tab","aria-controls":"nav-home","aria-selected":"true"},"Tr\u1ea3 l\u1eddi"),s.a.createElement("a",{className:"nav-item nav-link "+(1===n.getTab()?"active":""),onClick:function(){return n.setRating(1)},id:"nav-profile-tab","data-toggle":"tab",href:"#nav-profile",role:"tab","aria-controls":"nav-profile","aria-selected":"false"},"X\u1ebfp h\u1ea1ng"),s.a.createElement("a",{className:"nav-item nav-link "+(2===n.getTab()?"active":""),onClick:function(){return n.setRating(2)},id:"nav-contact-tab","data-toggle":"tab",href:"#nav-contact",role:"tab","aria-controls":"nav-contact","aria-selected":"false"},"Tham gia")))))),n.renderList()))),s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"bottom_wrapper clearfix"},s.a.createElement("div",{className:""},"Gi\xe1o vi\xean: ",s.a.createElement("b",null,"Nguy\u1ec5n Th\u1ecb Phi")," - B\u1ed9 m\xf4n: V\u0103n h\u1ecdc"))))},n.state={messages:[],user:{id:"",name:""},userOnline:[],route:0,opens:[],time:{},seconds:5},n.socket=null,n.timer=0,n.startTimer=n.startTimer.bind(Object(g.a)(n)),n.countDown=n.countDown.bind(Object(g.a)(n)),n}return Object(v.a)(t,e),Object(u.a)(t,[{key:"secondsToTime",value:function(e){var t=e%3600,n=t%60,a=n%60;return{h:Math.floor(e/3600),m:Math.floor(t/60),s:Math.ceil(n),ms:Math.ceil(a)}}},{key:"startTimer",value:function(){0==this.timer&&this.state.seconds>0&&(this.timer=setInterval(this.countDown,1e3))}},{key:"countDown",value:function(){var e=this.state.seconds-1;this.setState({time:this.secondsToTime(e),seconds:e}),0==e&&clearInterval(this.timer)}},{key:"componentDidMount",value:function(){var e=this.secondsToTime(this.state.seconds);this.setState({time:e})}},{key:"componentWillMount",value:function(){var e=this;console.log("user temp: ",this.state.user);this.socket=E()("localhost:6969",{"force new connection":!0,reconnectionAttempts:"Infinity",timeout:1e4,transports:["websocket"]}),this.socket.on("newMessage",(function(t){e.newMessage(t)})),this.socket.on("loginFail",(function(e){alert("T\xean \u0111\xe3 c\xf3 ng\u01b0\u1eddi s\u1eed d\u1ee5ng")})),this.socket.on("loginSuccess",(function(t){e.setState({user:{id:e.socket.id,name:t}})})),this.socket.on("updateUesrList",(function(t){e.setState({userOnline:t})})),this.socket.on("teacherQuestion",(function(t){e.setValue({route:t.route})})),this.socket.on("openQuestion",(function(t){e.setValue({opens:t.opens})}))}},{key:"newMessage",value:function(e){console.log("get mess: ",e);var t=this.state.messages,n=f()(t,"id"),a={id:Math.max.apply(Math,Object(i.a)(n))+1,userId:e.user.id,message:e.data,userName:e.user.name,date:this.getDateCurrent(),time:this.getHourMinute()};t.push(a),this.setState({messages:t}),this.setAnswers(a)}},{key:"sendnewMessage",value:function(e){console.log("mess: ",e),this.socket.emit("newMessage",{data:e,user:this.state.user})}},{key:"login",value:function(){console.log("reffff: ",this.refs.name.value.capitalize()),this.socket.emit("login",this.refs.name.value.capitalize())}},{key:"render",value:function(){var e=this.state,t=e.route,n=e.opens;n&&n[t]&&this.getOpen();console.log("this.state.user.name<: ",this.state.user.name);var a=this.state.user&&"Admin"===this.state.user.name;return s.a.createElement("div",{className:"app__content"},s.a.createElement("div",null,this.state.user.id&&this.state.user.name?a?this.renderTeacher():this.renderStudent():s.a.createElement("div",null,this.renderLogin())),s.a.createElement("div",{className:"footer"},"(c) Copyright Gs Hoang Anh - facebook.com/gs.anhhoang"))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},85:function(e,t,n){e.exports=n.p+"static/media/teacher01.eae47470.png"},86:function(e,t,n){e.exports=n.p+"static/media/answer01.1f746f3a.png"},94:function(e,t,n){e.exports=n(225)},99:function(e,t,n){}},[[94,1,2]]]);
//# sourceMappingURL=main.41d33f84.chunk.js.map